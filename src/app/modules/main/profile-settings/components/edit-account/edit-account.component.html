<div>
  <h2 class="text-base font-semibold leading-7 text-dark">
    Personal Information
  </h2>
  <p class="mt-1 text-sm leading-6 text-gray-400">
    Use a permanent address where you can receive mail.
  </p>
</div>

<form
  class="md:col-span-2"
  [formGroup]="profileForm"
  (ngSubmit)="updateUserProfile()"
>
  <div class="grid grid-cols-1 gap-x-6 gap-y-8 sm:max-w-xl sm:grid-cols-6">
    <div class="col-span-full flex items-center gap-x-8">
      <img
        [src]="avatarUrl"
        alt="Profile Photo"
        class="h-24 w-24 flex-none mask mask-squircle bg-gray-800 object-cover"
      />
      <div>
        <input
          type="file"
          id="avatar-input"
          (change)="onFileSelected($event)"
          class="hidden"
          accept=".jpg, .png, .webp"
        />
        <label
          for="avatar-input"
          class="rounded-md bg-blue-500/10 px-3 py-2 text-sm font-semibold text-dark shadow-sm hover:bg-blue-500/20 cursor-pointer"
        >
          Change avatar
        </label>
        <p class="mt-2 text-xs leading-5 text-gray-400">
          JPG, PNG, or WEBP. 1MB max.
        </p>
      </div>
    </div>

    <div class="sm:col-span-3">
      <label
        for="first-name"
        class="block text-sm font-medium leading-6 text-dark"
        >First name</label
      >
      <div class="mt-2">
        <input
          type="text"
          name="first-name"
          id="first-name"
          autocomplete="given-name"
          class="block w-full rounded-md border-0 bg-blue-500/5 px-4 py-1.5 text-dark shadow-sm ring-1 ring-inset ring-dark/10 focus:ring-2 focus:ring-inset focus:ring-blue-500 sm:text-sm sm:leading-6"
          formControlName="firstName"
        />
      </div>
    </div>

    <div class="sm:col-span-3">
      <label
        for="last-name"
        class="block text-sm font-medium leading-6 text-dark"
        >Last name</label
      >
      <div class="mt-2">
        <input
          type="text"
          name="last-name"
          id="last-name"
          autocomplete="family-name"
          class="block w-full rounded-md border-0 bg-blue-500/5 px-4 py-1.5 text-dark shadow-sm ring-1 ring-inset ring-dark/10 focus:ring-2 focus:ring-inset focus:ring-blue-500 sm:text-sm sm:leading-6"
          formControlName="lastName"
        />
      </div>
    </div>

    <div class="col-span-full">
      <label for="email" class="block text-sm font-medium leading-6 text-dark"
        >Email address</label
      >
      <div class="mt-2">
        <input
          id="email"
          name="email"
          type="email"
          autocomplete="email"
          class="block w-full rounded-md border-0 bg-blue-500/5 px-4 py-1.5 text-dark shadow-sm ring-1 ring-inset ring-dark/10 focus:ring-2 focus:ring-inset focus:ring-blue-500 sm:text-sm sm:leading-6"
          formControlName="email"
        />
      </div>
    </div>

    <div class="col-span-full">
      <label
        for="username"
        class="block text-sm font-medium leading-6 text-dark"
        >Username</label
      >
      <div class="mt-2">
        <div
          class="flex rounded-md bg-blue-500/5 ring-1 ring-inset ring-dark/10 focus-within:ring-2 focus-within:ring-inset focus-within:ring-blue-500"
        >
          <span
            class="flex select-none items-center pl-3 text-gray-400 sm:text-sm"
            >yado.hotel/user/</span
          >
          <input
            type="text"
            name="username"
            id="username"
            autocomplete="username"
            class="flex-1 border-0 bg-transparent py-1.5 pl-1 text-dark focus:ring-0 sm:text-sm sm:leading-6"
            placeholder="emagrina"
            formControlName="username"
          />
        </div>
      </div>
    </div>
  </div>
  <div class="col-span-full mr-44 mt-4">
    <app-success-message *ngIf="changesSavedSuccessfully">
      Successfully uploaded
    </app-success-message>
    <app-error-message *ngIf="errorOccurred">
      <span slot="title">An error occurred while saving changes.</span>
    </app-error-message>
  </div>
  <div class="mt-8 flex">
    <button
      type="submit"
      class="rounded-md bg-blue-700 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-blue-600 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-500 transition ease-in-out"
      [ngClass]="{ 'opacity-50 cursor-not-allowed': !isFormDirty }"
      [disabled]="!isFormDirty"
    >
      Save
    </button>
  </div>
</form>
